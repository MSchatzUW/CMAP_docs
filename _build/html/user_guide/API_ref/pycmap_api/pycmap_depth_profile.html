


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
    
        <title>Depth Profile &mdash; CMAP</title>
    


  
  
    <link rel="shortcut icon" href="../../../_static/CMAP_logo.png"/>
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/style.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Cruise Track Plot" href="pycmap_cruise_track.html" />
    <link rel="prev" title="Section Map, Section Contour" href="pycmap_section_map_contour.html" />
    <!-- Google Analytics tracking code -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new
            Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-38125837-1', 'auto', {'storage': 'none'});
      ga('set', 'anonymizeIp', true);
      ga('send', 'pageview');
    </script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html">
          

          
            
            <img src="../../../_static/CMAP_logo_300px.png" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
    
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started/installation/installation.html">Installation</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../catalog/catalog.html">Data Catalog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials/tutorials.html">Tutorials</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api_ref.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="pycmap_api_ref.html">pycmap API</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="pycmap_api_ref.html#data-retrieval-api">Data Retrieval (API)</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="pycmap_api_ref.html#data-visualization">Data Visualization</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="pycmap_histogram.html">Histogram Plot</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycmap_time_series.html">Time Series Plot</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycmap_rm_cp_3d.html">Regional Map, Contour Plot, 3D Surface Plot</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycmap_section_map_contour.html">Section Map, Section Contour</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Depth Profile</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycmap_cruise_track.html">Cruise Track Plot</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycmap_correlation_matrix.html">Correlation Matrix</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycmap_correlation_matrix_cruise_track.html">Correlation Matrix Along Cruise Track</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../cmap4r_api/cmap4r_api.html">cmap4r API</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../faq_and_contributing/datasubmission.html">Data Submission</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../faq_and_contributing/FAQ.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../faq_and_contributing/contact.html">Contact and Contribute</a></li>
</ul>

            
          

    

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">CMAP</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          
















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../api_ref.html">API Reference</a> &raquo;</li>
        
          <li><a href="pycmap_api_ref.html">pycmap API</a> &raquo;</li>
        
      <li>Depth Profile</li>
    
    
    <li class="source-link">
        
            
                <a href="https://github.com//edit///user_guide/API_ref/pycmap_api/pycmap_depth_profile.rst"
                   class="fa fa-github"> Improve this page</a>
            
        
        
    </li>

  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="depth-profile">
<span id="depthprofile"></span><h1>Depth Profile<a class="headerlink" href="#depth-profile" title="Permalink to this headline">¶</a></h1>
<a class="reference external image-reference" href="https://colab.research.google.com/github/mdashkezari/pycmapDoc/blob/master/notebooks/Viz_DepthProfile.ipynb"><img alt="https://colab.research.google.com/assets/colab-badge.svg" src="https://colab.research.google.com/assets/colab-badge.svg" /></a>
<dl class="method">
<dt id="plot_depth_profile">
<code class="sig-name descname">plot_depth_profile</code><span class="sig-paren">(</span><em class="sig-param">tables</em>, <em class="sig-param">variables</em>, <em class="sig-param">dt1</em>, <em class="sig-param">dt2</em>, <em class="sig-param">lat1</em>, <em class="sig-param">lat2</em>, <em class="sig-param">lon1</em>, <em class="sig-param">lon2</em>, <em class="sig-param">depth1</em>, <em class="sig-param">depth2</em>, <em class="sig-param">exportDataFlag=False</em>, <em class="sig-param">show=True</em><span class="sig-paren">)</span><a class="headerlink" href="#plot_depth_profile" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a depth profile graph for each variable according to the
specified space-time constraints (dt1, dt2, lat1, lat2, lon1, lon2,
depth1, depth2). By definition, depth profile data points are aggregated
by depth: at each depth level the mean and standard deviation of the
variable values within the space-time constraints are computed. The
sequence of these values construct the depth profile.</p>
<p>Change the <a href="#id1"><span class="problematic" id="id2">`APIs vizEngine`_</span></a> parameter if you wish to use a different
visualization library. Returns the generated graph objects in form of a
python list. One may use the returned objects to modify the graph
properties.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method requires a valid <a href="#id3"><span class="problematic" id="id4">`API key`_</span></a>. It is not necessary to set the
API key every time because the API properties are stored locally after
being called the first time.</p>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>tables: list of string</strong></dt><dd><p>Table names (each dataset is stored in a table). A full list of table names can be found in <a class="reference internal" href="../../../catalog/catalog.html#catalog"><span class="std std-ref">Data Catalog</span></a>.</p>
</dd>
<dt><strong>variable: list of string</strong></dt><dd><p>Variable short name which directly corresponds to a field name in the table. A full list of variable short names can be found in <a class="reference internal" href="../../../catalog/catalog.html#catalog"><span class="std std-ref">Data Catalog</span></a>.</p>
</dd>
<dt><strong>dt1: string</strong></dt><dd><p>Start date or datetime. This parameter sets the lower bound of the temporal cut.
Example values: ‘2016-05-25’ or ‘2017-12-10 17:25:00’</p>
</dd>
<dt><strong>dt2: string</strong></dt><dd><p>End date or datetime. This parameter sets the upper bound of the temporal cut.</p>
</dd>
<dt><strong>lat1: float</strong></dt><dd><p>Start latitude [degree N]. This parameter sets the lower bound of the meridional cut. Note latitude ranges from -90° to 90°.</p>
</dd>
<dt><strong>lat2: float</strong></dt><dd><p>End latitude [degree N]. This parameter sets the upper bound of the meridional cut. Note latitude ranges from -90° to 90°.</p>
</dd>
<dt><strong>lon1: float</strong></dt><dd><p>Start longitude [degree E]. This parameter sets the lower bound of the zonal cut. Note latitude ranges from -180° to 180°.</p>
</dd>
<dt><strong>lon2: float</strong></dt><dd><p>End longitude [degree E]. This parameter sets the upper bound of the zonal cut. Note latitude ranges from -180° to 180°.</p>
</dd>
<dt><strong>depth1: float</strong></dt><dd><p>Start depth [m]. This parameter sets the lower bound of the vertical cut. Note depth is a positive number (it is 0 at surface and grows towards ocean floor).</p>
</dd>
<dt><strong>depth2: float</strong></dt><dd><p>End depth [m]. This parameter sets the upper bound of the vertical cut. Note depth is a positive number (it is 0 at surface and grows towards ocean floor).</p>
</dd>
<dt><strong>exportDataFlag: boolean, default: False</strong></dt><dd><p>If True, the graph data points are stored on the local machine. The export path and file format are set by the <a href="#id5"><span class="problematic" id="id6">`API's parameters`_</span></a>.</p>
</dd>
<dt><strong>show: boolean, default: True</strong></dt><dd><p>If True, the graph object is returned and is displayed. The graph file is saved on the local machine at the figureDir directory.
If False, the graph object is returned but not displayed.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns:</dt>
<dd class="field-even"><p>list of graph objects
A list of graph objects. Below are the graph’s properties and methods.</p>
<dl class="field-list simple">
<dt class="field-odd">Properties</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>data: dataframe</strong></dt><dd><p>Graph data points to be visualized.</p>
</dd>
<dt><strong>line: boolean, default: True</strong></dt><dd><p>If True, line plot is superimposed on markers.</p>
</dd>
<dt><strong>color: string</strong></dt><dd><p>Line and marker colors (e.g. ‘red’, ‘green’, ..) or rgb hex ‘#FF0023’.</p>
</dd>
<dt><strong>height: int</strong></dt><dd><p>Graph’s height in pixels.</p>
</dd>
<dt><strong>width: int</strong></dt><dd><p>Graph’s width in pixels.</p>
</dd>
<dt><strong>xlabel: str</strong></dt><dd><p>The graphs’s x-axis label.</p>
</dd>
<dt><strong>ylabel: str</strong></dt><dd><p>The graphs’s y-axis label.</p>
</dd>
<dt><strong>title: str</strong></dt><dd><p>The graphs’s title.</p>
</dd>
</dl>
</dd>
</dl>
</dd>
<dt class="field-even">Methods</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>render()</strong></dt><dd><p>Displays the plot according to the set properties.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="section" id="example">
<h2>Example:<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<p>This example compares the depth profile of chlorophyll concentration
retrieved from <a class="reference external" href="https://cmap.readthedocs.io/en/latest/catalog/datasets/Argo.html#argo">Argo Floats</a> observations, <a class="reference external" href="https://cmap.readthedocs.io/en/latest/catalog/datasets/Pisces.html#pisces">Pisces model</a> estimations,
and <a class="reference external" href="https://cmap.readthedocs.io/en/latest/catalog/datasets/Darwin_3day.html#darwin-3day">Darwin model</a> calculations. The depth profiles from the two models
demonstrate close consistency with the Argo measurements. The graphs are
made using the default visualization library (plotly) which may be
changed by: <code class="docutils literal notranslate"><span class="pre">pycmap.API(vizEngine='bokeh')</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ch">#!pip install pycmap -q     #uncomment to install pycmap, if necessary</span>
<span class="c1"># uncomment the lines below if the API key has not been registered on your machine, previously.</span>
<span class="c1"># import pycmap</span>
<span class="c1"># pycmap.API(token=&#39;YOUR_API_KEY&gt;&#39;)</span>


<span class="kn">from</span> <span class="nn">pycmap.viz</span> <span class="kn">import</span> <span class="n">plot_depth_profile</span>

<span class="n">go</span> <span class="o">=</span> <span class="n">plot_depth_profile</span><span class="p">(</span>
                       <span class="n">tables</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;tblArgoMerge_REP&#39;</span><span class="p">,</span> <span class="s1">&#39;tblPisces_NRT&#39;</span><span class="p">,</span> <span class="s1">&#39;tblDarwin_Ecosystem&#39;</span><span class="p">],</span>
                       <span class="n">variables</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;argo_merge_chl_adj&#39;</span><span class="p">,</span> <span class="s1">&#39;CHL&#39;</span><span class="p">,</span> <span class="s1">&#39;CHL&#39;</span><span class="p">],</span>
                       <span class="n">dt1</span><span class="o">=</span><span class="s1">&#39;2014-04-25&#39;</span><span class="p">,</span>
                       <span class="n">dt2</span><span class="o">=</span><span class="s1">&#39;2014-04-30&#39;</span><span class="p">,</span>
                       <span class="n">lat1</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
                       <span class="n">lat2</span><span class="o">=</span><span class="mi">24</span><span class="p">,</span>
                       <span class="n">lon1</span><span class="o">=-</span><span class="mi">170</span><span class="p">,</span>
                       <span class="n">lon2</span><span class="o">=-</span><span class="mi">150</span><span class="p">,</span>
                       <span class="n">depth1</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                       <span class="n">depth2</span><span class="o">=</span><span class="mi">1500</span><span class="p">,</span>
                       <span class="n">exportDataFlag</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                       <span class="n">show</span><span class="o">=</span><span class="bp">True</span>
                       <span class="p">)</span>
</pre></div>
</div>
<iframe src="../../../_static/pycmap_tutorial_viz/html/depth_profile_argo_merge_chl_adj.html"  frameborder = 0  height="450px" width="100%">></iframe><div class="line-block">
<div class="line"><br /></div>
</div>
<iframe src="../../../_static/pycmap_tutorial_viz/html/depth_profile_CHL.html"  frameborder = 0  height="450px" width="100%">></iframe><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># here is how to modify a graph:</span>

<span class="n">go</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">cmap</span> <span class="o">=</span> <span class="s1">&#39;PRGn&#39;</span>
<span class="n">go</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">vmin</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">go</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">vmax</span> <span class="o">=</span> <span class="mf">5e-5</span>
<span class="n">go</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="mi">900</span>
<span class="n">go</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="mi">700</span>
<span class="n">go</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">render</span><span class="p">()</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<iframe src="../../../_static/pycmap_tutorial_viz/html/depth_profile_modified_argo_merge_chl_adj.html"  frameborder = 0  height="650px" width="100%">></iframe></div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Mohammad Dehghani Ashkezari &amp; Norland Raphael Hagen
      <span class="lastupdated">
        Last updated on Sep 11, 2019.
      </span>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>